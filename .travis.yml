language: java
sudo: required

jdk:
  - oraclejdk8

env:
  global:
  - CXX=g++-4.8
  - export UX_TEST_PLATFORM_ROOT_DIR=~/build/Pearson-Higher-Ed/ux-test-platform

addons:
  apt:
#      sources:
#        - ubuntu-toolchain-r-test
      packages:
        - g++-4.8
  browserstack:
          username: "uxf2"
          access_key:
              secure: ZjKHHPmZV5F9kwDQYDaZB3IZ3Mkji3dVxr/VmYyjL7NfZQIZ2PICpOa9bX8S9+9eivMfW4nfJ0RS+zArZBheIqmqpfkuozom9nT3iSzzIpfSpzXZ+OwVLrNpz5NiWcV5Oa2Vk9UkPyw4tOja0+RL11hqFr1OKE3MY1STXV1MVjXTbUfGd1eR61ZDjGIJxyLp1wTf7Qk4G17AsA3F0tsoovSQzpaOD/WmtzgoguoKdy4medaH3xymHd9B9EMuFmCg0n8sBonZ/2QCYXZqEIOdEVPiYZ+VwSblwAyM7OU3Kx5uM1zjIWCuOk4hCGnZbFTjiuVCrVekrQ8B/HanSFsYtsiSFPOm3VZa4kAraoIHUO3FHj1CoKqgbeLXJ4SA//9wusHVdwaZRrj1Gsp6D64UzDgnIe4FTvn0SB0MH7VR8N/OHg0f+ounCfnPkxGup98y2dMPQfS84PdDhuJuYjOyiQEYLj5dtbNsLoj77mSVlSsbhjzv8DNk2RFzt5c9iXpkRcpsVIFKP07WqevU/kWMOhbTaugdnW08cwJwWL9q1JsgOHXVxW4Ksb6XSt7MJ/rg6RV0r2ObhzjPAK3P/9iW6E4OEW+Q1bCU7JA5NJsf0tHBsJEv62X/8wUouBSwntVYcal+6mSUKsYJ0uUgOnZZPvseYcztVklqmHJ7iTiWFqA=

install:
- mvn clean install -DskipTests=true -q -Dmaven.javadoc.skip=true -B -V

before_script:
- nvm install 6.0
- nvm use 6.0
- python -m SimpleHTTPServer &>/dev/null &

script:
- export component=elements-sdk1
- export feature_branch=master
- chmod 777 ./src/main/shell_scripts/components.sh
- ./src/main/shell_scripts/components.sh
- mvn -Dtest_suite_xml=elements_sdk.xml test

notifications:
  email:
    recipients:
    #- eajazali.mahaboobbasha@pearson.com
    - payal.dhadge@pearson.com
    on_success: always
    on_failure: always

  hipchat: pQrkiv99DE4e4K1I1KLrR8HZtoE8i3ZGg2bHYLrp@2846476