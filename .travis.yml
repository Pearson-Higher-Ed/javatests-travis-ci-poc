language: java
sudo: required

jdk:
  - oraclejdk8

env:
  global:
  - CXX=g++-4.8
  - export UX_TEST_PLATFORM_ROOT_DIR=~/build/Pearson-Higher-Ed/ux-test-platform

addons:
  apt:
#      sources:
#        - ubuntu-toolchain-r-test
      packages:
        - g++-4.8
  browserstack:
          username: "eajaz4"
          access_key:
              secure: HyqClJsdhehavoZBR3OuauszELFBokrq9nezEbHBu+pRappL/EjLRqrVLJmG8IqzXgmWxC5de5Si/NjZ5RbZgZJqm63sfCMc7G/qfhwR1SCjHON9mvuOynXkESWT8o7ttrScHVcdk2LAxO+byg/yTFeTvfP/R+w3Y5QPu54S1Ty+BvnyzwJQObIB4tyfu2b7ieP8l6cgAyq+FEJjuIQC0dBy2qgcPF0GRPKjf8BhsHeCtDyUp2tQRB07/4hpaKkFFc5q6wi8MMzNoI7JwhyvPCdgb91F9pURgTukZlEd5VohNOB7CuKsnkJaRkHD64x4qBWdNR5SUmzqop1wi8Lp6mwwUTRS+oKxSmEYsIo979rZdVuCIC1Gwc+zazVphmq+TWTnHwiOHxcPCd6mGuAWM4f1hiZcSOOGUCSnWAwUp3d0ZYK5yad0RzLL+++HDiA1QqDkn95A2LQDQnKaX3kPODGKKR0DLShJqMm6ijA6jdrrYkwczrougwoKxonWiZyOFDcQks4zVz37PQOYwhtS0d7mubXfamoYS45PoEw/a/iQT44IZpFuIOBikpl8ClWSu9I5q6eyrh1/pBFnha56C2BjdUAB/DswfDcxcH9Klu6ZSy48PmIZd2lbPnzrxRKWw5Z/vw6/T+YEXayxs67Hzqs+DSn3XgxDXNg36hjmyFs=

install:
- mvn clean install -DskipTests=true -q -Dmaven.javadoc.skip=true -B -V

before_script:
- nvm install 6.0
- nvm use 6.0
- python -m SimpleHTTPServer &>/dev/null &

script:
- export component=elements-sdk1
- export feature_branch=master
- chmod 777 ./src/main/shell_scripts/components.sh
- ./src/main/shell_scripts/components.sh
- mvn -Dtest_suite_xml=elements_sdk.xml test

notifications:
  email:
    recipients:
    #- eajazali.mahaboobbasha@pearson.com
    - payal.dhadge@pearson.com
    on_success: always
    on_failure: always

  hipchat: pQrkiv99DE4e4K1I1KLrR8HZtoE8i3ZGg2bHYLrp@2846476
