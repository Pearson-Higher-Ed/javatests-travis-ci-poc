language: java
sudo: required

jdk:
  - oraclejdk8

env:
  - TEST_SUITE=elements_sdk.xml
  - TEST_SUITE=elements.xml
  global:
  - CXX=g++-4.8
  - export UX_TEST_PLATFORM_ROOT_DIR=~/build/Pearson-Higher-Ed/ux-test-platform

addons:
  apt:
      sources:
        - ubuntu-toolchain-r-test
      packages:
        - g++-4.8
  browserstack:
          username: "pdatest1"
          access_key:
                secure: RQUOFh6GGpdurm+iypJFMfghXbOcCv19Tb/iHvPwl64kyJDPPNhELH6N0mDgEjs8GgVIBD6O+Ww63wi88giebYajaY6T72XZJjm2UHp1g10Snx9m5j2eknY+mTOJUK40TvQGqSFt+cXh3pgaWEIRFcuFf7IAiVC3Y04R8nZPB0vaRWgxdl1X3DjNl0Vy2CEhWTx+MJxzZS6ORJBpgSduI26k1Nc91szpmA50nXMPVfyp6SQ/QjM+E7iIgRKEYYKX2jrzrgElxj6+ufQYChFalc8Ko0USOsbn6PgM2ciNfQIv9foXY7r4cMnS2eIYrhbo241ecT80X/d7+7E3NWIbYO0lXzNFMpY6S2+8VtH33OWSsBipofN8/MOOvUMp2R9atE8j942pkLqRsV+Zok60R+394fTOJkrN4UT8Xrp4eJlYYBkAkwAWqdNBDhH2kScbWDiDMMGrIcYOSbj2SloHa61egCvwccFF2TrBUN0ctA4FjSzCU0zxm9/K5hFzwXtP6TtdtR24riC0DoMQGyzz9mcRmKrz9G1vbp/pgkCqJ7w4XidwLK4koZ32JqsEz93vH9alV0rdjFapX9XewcmxjWSp8rny2MHJLXbBapY3duV/8MxHEPZ2/xUxY1HnUeHnx88QmCyF/Iwc3Sd5eqHoiXpJZFXfho2DeYmNQrXltIU=


install:
- mvn clean install -DskipTests=true -q -Dmaven.javadoc.skip=true -B -V

before_script:
- nvm install 6.0
- nvm use 6.0
- python -m SimpleHTTPServer &>/dev/null &

script:
- export component=elements-sdk1
- export feature_branch=master
- chmod 777 ./src/main/shell_scripts/components.sh
- ./src/main/shell_scripts/components.sh
- mvn -Dtest_suite_xml=$TEST_SUITE test

notifications:
  email:
    recipients:
    #- eajazali.mahaboobbasha@pearson.com
    - payal.dhadge@pearson.com
    on_success: always
    on_failure: always

  hipchat: pQrkiv99DE4e4K1I1KLrR8HZtoE8i3ZGg2bHYLrp@2846476
