language: java
sudo: required

jdk:
  - oraclejdk8

env:
  global:
  - CXX=g++-4.8
  - export UX_TEST_PLATFORM_ROOT_DIR=~/build/Pearson-Higher-Ed/ux-test-platform

addons:
  apt:
#      sources:
#        - ubuntu-toolchain-r-test
      packages:
        - g++-4.8
  browserstack:
          username: "eajaz2"
          access_key:
              secure: fcD2LVtJeX1Bfei3+iauol+8P3bfLpw63kYOamPEVZAtqcdae9XtkgRkHiU6grY0v6BFzFHJqMKagdEdJowV+/maYOaE4yqMJII5z81oX4q/LBdnP+HBTerIn7Qxfm3Ai9WCRSQjO686K87Nw2RexPZybnmthl9F7JSTvxzk9EczQD6+NMyNCKKIP5exIlZXaXLGHJdsYGT5Rt0Ig5SWJ0PBflaUQGXuurhTZNQJr2TmO55qpy3AlbfJkNdOOEUAFQZEwSTd3uwPX0bbz69bv0FmXwWK1iXCDwSN/7o6OXbaEXlD8xgIO8orSSnXPJ0B2nXNt0CYULJDY/e16Pwd6cMJgbWMNuN3Ypkoeanu7Q2m3OJzMd4zjnsmYbmkgY4f2GZ9Y8NcgEOMAQVya0/9mxnS9Jzh3kYax4ZwHLfWFTexteSY6pz9lIg4zUm/7uXK5nXcYblcNHmplWYDXVQMcrYXMQavo9+bxZ7K0RqYV2iwiB/meDxNF/0cUDdAine3rLZEgjTe0wgEvoBPuTqaTUB5+n2VzJgNepOaFjVlKt8k5EGlIDPSmdBYVCcuZ/UDtcJeUYf+HH8nJttPBmRhdrNgrOTVOV5LD3JbDgrzip8rP/EIU3IMsJYB8uWFe7AxyATxjbM07gi14beEQtdYUiRVC2+PS86NyZPTjcWdgbA=
install:
- mvn clean install -DskipTests=true -q -Dmaven.javadoc.skip=true -B -V

before_script:
- nvm install 6.0
- nvm use 6.0
- python -m SimpleHTTPServer &>/dev/null &

script:
- export component=elements-sdk1
- export feature_branch=master
- chmod 777 ./src/main/shell_scripts/components.sh
- ./src/main/shell_scripts/components.sh
- mvn -Dtest_suite_xml=elements_sdk.xml test

notifications:
  email:
    recipients:
    #- eajazali.mahaboobbasha@pearson.com
    - payal.dhadge@pearson.com
    on_success: always
    on_failure: always

  hipchat: pQrkiv99DE4e4K1I1KLrR8HZtoE8i3ZGg2bHYLrp@2846476
