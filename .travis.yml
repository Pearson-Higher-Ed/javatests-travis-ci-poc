language: java
sudo: required

jdk:
  - oraclejdk8

env:
  global:
  - CXX=g++-4.8
  - export UX_TEST_PLATFORM_ROOT_DIR=~/build/Pearson-Higher-Ed/ux-test-platform
  - secure: 4tYy1xbMBVM0ayX2tVaL9IimEALP6EpJ0gpSE29R9jFkMKDs0L0TwHaXwYRAQM2jv9XMlmlsbHjus8EpYpFe/rgC9iB7FtwQl8XeJ5hWR4l+d7eGMBVtM/h5ArFLNkEm3/puaW3AOLM5bzk7NFt0kR39dIiEopwaiOEwRVmsZFiuDQSYo2KTESFdAiZ91dFOqx+88vNtiHDPHk5muygspgscvBDBuHbJN1+4Td8IZAJMCE42JIoFl40UM5n1tOpMGhtL8+n47kQKHRFdDO6s+n0tBDE2DJC0ezs0IFRMnbCIUDfqWbPdJi0xGiRSfFyEXp9f6+IMce559mP0wKB/4RreDFZR8HtRi4e0fN8Iefsscy0Via7f8OJyLYv2s0LeqwJ+zQt8AYu+D7bPH5IH5g9YAebsGQUkBxV31dnnx5TftdPBilkSLGMWUU/28Mq0FypwdHCok62v4gS269Okf3XR2AzQZTu624SYbH4vQuvNJbxMkSMDwqTEa0zqD3vdP7YoORsZuiaJixLuOdliSfg46bdj1qAqz09VcHTY++5bz81suvQtthNLBrKMiFCQhGsA1Mrsb8lJzYuqAmnv5PfcfZZ860OGYNeu9vRj+h4b3OAntUk/FTnHjqlGKmedEmkDGpyuEFH5mo36uwoqiNO8Ukqg8Ornp8QTOdEO6tM=
  - secure: cHav2DRT8H3kJcQUWENJqqSfMYYPgD/09FtaQ8tCC6gehYHqrDw/K39u8MWOWhoS/WOTDhSnSr0oJhHEfj0c9z7a1gFfRk91C8NRmzqTySkbGnt8RLcaYt6LznvAH2cxbpMrIgysryvVlXnVfF+aQEzT/XXfHA5fDvR3xZM08+lTUhtzXM9c8NdKtnz32IKwgEnpr5fFjr+2PGqsiiNH837O3Vxkq1YnIb9mNq4HPuDw4Wr1BypPy+XwjRBDY1AsEgrcCcKgUP9a3ozQ6CogqZYlFNkX+ZCnL3GTvJSx6AKOtGqIJKhVqh5/F+4PruY1SZHiYkBxvxzVaU2u5kFkCSkZN+0aqSjS4CsAERZ/dGL2c2E05vVVepUEluZVBk8mkYwmBvnaWLemKgDkMY9r7QnzulClC3f7ABajhO+53J0LyuYfV+aAxVfjqq5gRsu4DmASS8k/oYhnbzQBFFYNZImDzDPkOKldOs/JHQgKL+9AkOr21IW0BMmnBe69D/2HJ89DtNncz9eUY2tQcJnOeT294Kr6Jb+32tsew/Dogem5EHAQTm+Unc3KfnjuF9umXidTnBhRjoDXPW2BN/rQKoAMCc1TKh2RRTlxPiXcw0fzeK+jynEmm0+c01JaEDPdBM/10pqLQiKQrtJiHi+GesI8Fkt0t5xyX4d0ePAqwjM=

addons:
  apt:
#      sources:
#        - ubuntu-toolchain-r-test
      packages:
        - g++-4.8
  browserstack:
          #username: "payalpda1"
          #access_key:
          #secure: dllZq9cOy4w4TfCtD5D9zR+uCUwR0i3A7cfPkUIe/N7wG/HpK5yibJBbhOr0LUlMP1lKuNFL1gYFtaijdWYhrfN3qzqufQ8bBpmvY/nEx62rIe+DrWTtRmdlJFh53xPQbkgrNSPPjenk92EMx1USIma2lYL5xp27p44K9ByIzVgKWbXA050Je7D1VqHATneCLkt3WLJtbapd0Q57pRGlJE3B3Nw5amAKcJ6s76KMifDd3mOYagEdBYC+RfflfzLa8pmzJL1t2GwaHRqL6OpNpafB6bHMutvQZNjLpUUFzPRnUK/PoylqidzwJ0QPpSD9nbKLgw+p7eUBVSgRt52PniNspa4nrVEW3UzFvB4oih5HJ3OL/nT6Utz8x2PNoszJ1/Yd3Dgsz6XzCXDMRoQWOQG67Gk0NH3tW7uU141ybenrIlYmtlCl7DRrLTynByg8OSXKmEErtHPQR5uJNmivx9cxp9BkLz44/7penZRycFgKsZLDb8e6Bvow3Eu5fAOKRno4b/2nQwSxr0bEFj39U+sHLfgoofZg7PnNoIDPwH3zAlXycJcqPf+hycTAP4TSHN4nlykxVuiof2E0TfvUe3lTVAv0qc1sHkdslIxVJdA6umqkH73rjrYgRAq0pRPwJZMwarK64VIhfLae6a/6nJnjwo/bT+AdIDjumig6jXU=

install:
- mvn clean install -DskipTests=true -q -Dmaven.javadoc.skip=true -B -V

before_script:
- nvm install 6.0
- nvm use 6.0
- python -m SimpleHTTPServer &>/dev/null &

script:
- export component=elements-sdk1
- export feature_branch=master
- chmod 777 ./src/main/shell_scripts/components.sh
- ./src/main/shell_scripts/components.sh
- mvn -Dtest_suite_xml=elements_sdk.xml test

notifications:
  email:
    recipients:
    #- eajazali.mahaboobbasha@pearson.com
    - payal.dhadge@pearson.com
    on_success: always
    on_failure: always

  hipchat: pQrkiv99DE4e4K1I1KLrR8HZtoE8i3ZGg2bHYLrp@2846476
