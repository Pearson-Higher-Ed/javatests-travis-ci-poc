language: java
sudo: required

jdk:
  - oraclejdk8

env:
  global:
  - CXX=g++-4.8
  - export UX_TEST_PLATFORM_ROOT_DIR=~/build/Pearson-Higher-Ed/ux-test-platform

addons:
  apt:
#      sources:
#        - ubuntu-toolchain-r-test
      packages:
        - g++-4.8
  browserstack:
          username: "uxf1"
          access_key:
              secure: 31KXWCEEYUgczYvz+9ghn3TtA88ADIgVADLCbXE1gZgkWt2GUR4NNl1yDmZ+1dpdJoGlCxHSbpS0ZkvV5pqV2W0e3VSkJ/OydDjEZdL5Sc/fqZhbgt9tierPprGYuUCtkk8So0rZZwKyUdT91CaY7X3X2sFDZdvTkxvkl9w++VDk4uEIpA+MImthSpCG5xpoun8eY3l7O1+cK3cRizRS/umo8NRJeipw/A98qjcvWlsU+I5779ALSyAD6Q+OkGtwzk8plhJS7M2lSwdsjFXYmccpGBxm2pBxKKPFW5r7XGMk4lLQvmjsl4UCNPqS8rBfsqq6pHmjJew8eAlr+Gkf3uNDXEKIZUzwD4wU1chpPlaOg+2AoQzpYX+P2+vvh4QO0ut4yXE493VepAFeiTlz0rNCSsAFqQUv8SF0xmFOIim+0RecTN8BHRO+SXaHLzTdKKOT8+L1sjnVPshUfqDvKfjyg688xRKUX3J3jjTscMj9Zi1+Gbf384VwIgzfoV9l0decioLH2Oa3F4YTt+KjTE2v3AFkd32HCJ0hSoaYFNo0NGPClZE7bhYPHiXFwm1de3ePT7FLa8GasRXArcTRBEPxCJdCFCib4QJn7E9/LND3enbgdIIJTAGYXr6o4bevgjX0dEPhulGds7H2wgeS0M0MI/3LQ49we/fB8nfGciM=

install:
- mvn clean install -DskipTests=true -q -Dmaven.javadoc.skip=true -B -V

before_script:
- nvm install 6.0
- nvm use 6.0
- python -m SimpleHTTPServer &>/dev/null &

script:
- export component=elements-sdk1
- export feature_branch=master
- chmod 777 ./src/main/shell_scripts/components.sh
- ./src/main/shell_scripts/components.sh
- mvn -Dtest_suite_xml=functional.xml test

notifications:
  email:
    recipients:
    #- eajazali.mahaboobbasha@pearson.com
    - payal.dhadge@pearson.com
    on_success: always
    on_failure: always

  hipchat: pQrkiv99DE4e4K1I1KLrR8HZtoE8i3ZGg2bHYLrp@2846476
