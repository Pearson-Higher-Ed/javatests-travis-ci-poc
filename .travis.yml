language: java
sudo: required

jdk:
  - oraclejdk8

env:
  global:
  - CXX=g++-4.8
  - export UX_TEST_PLATFORM_ROOT_DIR=~/build/Pearson-Higher-Ed/ux-test-platform

addons:
  apt:
#      sources:
#        - ubuntu-toolchain-r-test
      packages:
        - g++-4.8
  browserstack:
          username: "eajaz5"
          access_key:
              secure: MPVBtFdOvzq920cQobU3KmODe6NEIkaQN8vqf49PrbwdLoyUDshMutOQcJJ1hFYixb3pLjU8lb296tKeElDTjK97zp6fIidCPtbn7y/rnEKw7mukHMXG5fhGHiRC6Gpxp/ScygDk4HnBmgQb7RozUILZB2fsUlWpyrviOjpks+OjtOxbK3f7N8eRZ9G2HDHPMxz5U/D5T4Jr27rt/kb/mddj31NQH8QGbb1KpThYE1ap5QoG03+HOChaQbI5HwRC3+BsAacjK4pNGwTd3y/2581vPwHiVie9V5Zn7XDhC/GXi+PSbrjS1RvqtA3Io2//OX3Sx8oS+D36p/wEXXG68CRvqgoxPVy510uM/4qa7V0LUpHPbVjBQYdadi09nuTr9JwvmLX1HOKhuRgzEpyAufnOCpi19XPB8Air4xkE+xICVFhraNUz6xSupvtbjiSgYvc80d3Nmty8lwSaBmRpnd9xZTtrXLX6w4UbX5gPMfkaddZPD44yCBcne3VsYOyzXrpNr51J3foPQyFpERYYKOjU6LGlIbvgzMphGSNGM4qRfLd+3rZKJsZaVXdEQylxwA6Ygt33bu5Hbfl9oYkjuMjt/tpx8lTffvo0VLo7yhGwyx6UuQAbvB9mQEwUuuW80BmsXMAKOnjsFOqv948YMvEO8zfAEwW9g3pFtd8ECCc=

install:
- mvn clean install -DskipTests=true -q -Dmaven.javadoc.skip=true -B -V

before_script:
- nvm install 6.0
- nvm use 6.0
- python -m SimpleHTTPServer &>/dev/null &

script:
- export component=elements-sdk1
- export feature_branch=master
- chmod 777 ./src/main/shell_scripts/components.sh
- ./src/main/shell_scripts/components.sh
- mvn -Dtest_suite_xml=functional.xml test

notifications:
  email:
    recipients:
    #- eajazali.mahaboobbasha@pearson.com
    - payal.dhadge@pearson.com
    on_success: always
    on_failure: always

  hipchat: pQrkiv99DE4e4K1I1KLrR8HZtoE8i3ZGg2bHYLrp@2846476
