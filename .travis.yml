language: java
sudo: required

jdk:
  - oraclejdk8

env:
  global:
  - CXX=g++-4.8
  - export UX_TEST_PLATFORM_ROOT_DIR=~/build/Pearson-Higher-Ed/ux-test-platform
  - secure: 4tYy1xbMBVM0ayX2tVaL9IimEALP6EpJ0gpSE29R9jFkMKDs0L0TwHaXwYRAQM2jv9XMlmlsbHjus8EpYpFe/rgC9iB7FtwQl8XeJ5hWR4l+d7eGMBVtM/h5ArFLNkEm3/puaW3AOLM5bzk7NFt0kR39dIiEopwaiOEwRVmsZFiuDQSYo2KTESFdAiZ91dFOqx+88vNtiHDPHk5muygspgscvBDBuHbJN1+4Td8IZAJMCE42JIoFl40UM5n1tOpMGhtL8+n47kQKHRFdDO6s+n0tBDE2DJC0ezs0IFRMnbCIUDfqWbPdJi0xGiRSfFyEXp9f6+IMce559mP0wKB/4RreDFZR8HtRi4e0fN8Iefsscy0Via7f8OJyLYv2s0LeqwJ+zQt8AYu+D7bPH5IH5g9YAebsGQUkBxV31dnnx5TftdPBilkSLGMWUU/28Mq0FypwdHCok62v4gS269Okf3XR2AzQZTu624SYbH4vQuvNJbxMkSMDwqTEa0zqD3vdP7YoORsZuiaJixLuOdliSfg46bdj1qAqz09VcHTY++5bz81suvQtthNLBrKMiFCQhGsA1Mrsb8lJzYuqAmnv5PfcfZZ860OGYNeu9vRj+h4b3OAntUk/FTnHjqlGKmedEmkDGpyuEFH5mo36uwoqiNO8Ukqg8Ornp8QTOdEO6tM=
  - secure: cHav2DRT8H3kJcQUWENJqqSfMYYPgD/09FtaQ8tCC6gehYHqrDw/K39u8MWOWhoS/WOTDhSnSr0oJhHEfj0c9z7a1gFfRk91C8NRmzqTySkbGnt8RLcaYt6LznvAH2cxbpMrIgysryvVlXnVfF+aQEzT/XXfHA5fDvR3xZM08+lTUhtzXM9c8NdKtnz32IKwgEnpr5fFjr+2PGqsiiNH837O3Vxkq1YnIb9mNq4HPuDw4Wr1BypPy+XwjRBDY1AsEgrcCcKgUP9a3ozQ6CogqZYlFNkX+ZCnL3GTvJSx6AKOtGqIJKhVqh5/F+4PruY1SZHiYkBxvxzVaU2u5kFkCSkZN+0aqSjS4CsAERZ/dGL2c2E05vVVepUEluZVBk8mkYwmBvnaWLemKgDkMY9r7QnzulClC3f7ABajhO+53J0LyuYfV+aAxVfjqq5gRsu4DmASS8k/oYhnbzQBFFYNZImDzDPkOKldOs/JHQgKL+9AkOr21IW0BMmnBe69D/2HJ89DtNncz9eUY2tQcJnOeT294Kr6Jb+32tsew/Dogem5EHAQTm+Unc3KfnjuF9umXidTnBhRjoDXPW2BN/rQKoAMCc1TKh2RRTlxPiXcw0fzeK+jynEmm0+c01JaEDPdBM/10pqLQiKQrtJiHi+GesI8Fkt0t5xyX4d0ePAqwjM=

addons:
  apt:
#      sources:
#        - ubuntu-toolchain-r-test
      packages:
        - g++-4.8
  browserstack:
          username: "uxf1"
          access_key:
          secure : 31KXWCEEYUgczYvz+9ghn3TtA88ADIgVADLCbXE1gZgkWt2GUR4NNl1yDmZ+1dpdJoGlCxHSbpS0ZkvV5pqV2W0e3VSkJ/OydDjEZdL5Sc/fqZhbgt9tierPprGYuUCtkk8So0rZZwKyUdT91CaY7X3X2sFDZdvTkxvkl9w++VDk4uEIpA+MImthSpCG5xpoun8eY3l7O1+cK3cRizRS/umo8NRJeipw/A98qjcvWlsU+I5779ALSyAD6Q+OkGtwzk8plhJS7M2lSwdsjFXYmccpGBxm2pBxKKPFW5r7XGMk4lLQvmjsl4UCNPqS8rBfsqq6pHmjJew8eAlr+Gkf3uNDXEKIZUzwD4wU1chpPlaOg+2AoQzpYX+P2+vvh4QO0ut4yXE493VepAFeiTlz0rNCSsAFqQUv8SF0xmFOIim+0RecTN8BHRO+SXaHLzTdKKOT8+L1sjnVPshUfqDvKfjyg688xRKUX3J3jjTscMj9Zi1+Gbf384VwIgzfoV9l0decioLH2Oa3F4YTt+KjTE2v3AFkd32HCJ0hSoaYFNo0NGPClZE7bhYPHiXFwm1de3ePT7FLa8GasRXArcTRBEPxCJdCFCib4QJn7E9/LND3enbgdIIJTAGYXr6o4bevgjX0dEPhulGds7H2wgeS0M0MI/3LQ49we/fB8nfGciM=

install:
- mvn clean install -DskipTests=true -q -Dmaven.javadoc.skip=true -B -V

before_script:
- nvm install 6.0
- nvm use 6.0
- python -m SimpleHTTPServer &>/dev/null &

script:
- export component=elements-sdk1
- export feature_branch=master
- chmod 777 ./src/main/shell_scripts/components.sh
- ./src/main/shell_scripts/components.sh
- mvn -Dtest_suite_xml=functional.xml test

notifications:
  email:
    recipients:
    #- eajazali.mahaboobbasha@pearson.com
    - payal.dhadge@pearson.com
    on_success: always
    on_failure: always

  hipchat: pQrkiv99DE4e4K1I1KLrR8HZtoE8i3ZGg2bHYLrp@2846476