language: java
sudo: required

jdk:
  - oraclejdk8

env:
  global:
  - CXX=g++-4.8
  - export UX_TEST_PLATFORM_ROOT_DIR=~/build/Pearson-Higher-Ed/ux-test-platform

addons:
  apt:
#      sources:
#        - ubuntu-toolchain-r-test
      packages:
        - g++-4.8
  browserstack:
          username: "eajaz4"
          access_key:
              secure: lYTLSvNMqo3xSl+Je0EY62wobVoE6clzfEukTqliOvD7r3KQOISX6+SFWgxkc34cWL1TRZtQjZSkX34Qc7DuxUuLylYx4SFBOfhuoN+X2sur1B0a22z9alDEJoHH7rPfhqC7e55CkwkmZ8ntZy4KyiF3r2EeeU7LQmvd5hVevi2ntomjcGie/L91/ISIwW31HJY83WK3ePPaYtnoFI2+lJxSMUht8xfEip9VNNw/1/HapMi3dAGwNHZVpG8NTUbYhBk/g+sBES7xcUanFTwoGollH1xz3iXH2emfqnxVpfDSAif+VKV4jVbEbEYwCzgYHWFO/L6wQ0ZCHxS42VAymTegqj9XMjX6ClZgg+JGKywMqAJjtHD8TOG8O/TM+gRUlKeUqUEmA9nI7uk9T1kk0u+AXP32xGZjdM2gXpLZUC9BsjsUjvQqjsR4kUEDBcYtmBgSlkRJ+jBnm1UGt9pfF2AA3Enq80iwJMyjyD0EOkHii5NDhGsF2OfvL0cVE0XiYrX+vvSLOfhV3fvrqA4EG3BbXMThWYagGewWlBmKl3L/nsra5wjtl6ofr5JGqqa/aPX0OwOm+o90n3EOW0yCErw56t1zAUqnSbN/tbKwSwcp9hZ6u6rpYodIvf/4o7Cko+w+NZYJhysefhwJB314puYj4FebNAhzML675wiBvFc=

install:
- mvn clean install -DskipTests=true -q -Dmaven.javadoc.skip=true -B -V

before_script:
- nvm install 6.0
- nvm use 6.0
- python -m SimpleHTTPServer &>/dev/null &

script:
- export component=elements-sdk1
- export feature_branch=master
- chmod 777 ./src/main/shell_scripts/components.sh
- ./src/main/shell_scripts/components.sh
- mvn -Dtest_suite_xml=functional.xml test

notifications:
  email:
    recipients:
    #- eajazali.mahaboobbasha@pearson.com
    - payal.dhadge@pearson.com
    on_success: always
    on_failure: always

  hipchat: pQrkiv99DE4e4K1I1KLrR8HZtoE8i3ZGg2bHYLrp@2846476
