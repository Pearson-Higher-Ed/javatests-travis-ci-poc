language: java
sudo: required

jdk:
  - oraclejdk8

env:
  global:
  - CXX=g++-4.8
  - export UX_TEST_PLATFORM_ROOT_DIR=~/build/Pearson-Higher-Ed/ux-test-platform

addons:
  apt:
#      sources:
#        - ubuntu-toolchain-r-test
      packages:
        - g++-4.8
  browserstack:
          username: "pdauser2"
          access_key:
              secure: sEBHkXpzM1CYP46PWEHs3R1IFZt/TatLZtv2TXTfjtAQbqGefEFFgZvQ5r5j5WLQF73q23lfchS8O3tPsvHjZ7yqzyEfwH+W+aJcj9MJ1EyOyfU8eCbGiHs1z33kjvmKrUROXcPSJayG3aT6IY/GklnkUqo5pYiX2yCRSUyTOzg9HF4o0/gqTZDnsMUAbqsT0nQpb+BXd1f11nSzh7Nn+bLu8/jGXZ9oMUMV7Zp8hrRqt/nFddGwCYQFD4UntVtvlwx4ZEzMKZ7SYdoBILAn5EOU/pNZhohlCyMEwyGo504oSw0qgujdfsSifiOAZ3nSb29bpWXc+ODvZyS2BzEsLlLVmiZy9aF3RPBnrODHT/L8u7lJcUeIypTBOrGELlUEf9qaSzvGWe7jW2YKZqzUdkgWHCDXU292L+4y/WcY6yZ03z9f4Ztg+X7SjbQZRKzhyB7hliAicz4VnQRFfD8YHk1/2dSy9KDXIir4hq2d+QOQPmzyELync+bxlJlbxc4Y3DEVcCuJb70kVj5UZshU6m9EKyoaRD643bHbLIoop1Alg4dDtvQGVEgYObnGAoLz1bTbAiMmkIGWvpKDRI5NgAkrDaAPjeMLnUl+2CPTjLtQtTruuYOtJXdBn1eTpotpwG4zPK5XGjpbHeuO3THr2Y03N8yk/uPkYZDGNS7qano=

install:
- mvn clean install -DskipTests=true -q -Dmaven.javadoc.skip=true -B -V

before_script:
- nvm install 6.0
- nvm use 6.0
- python -m SimpleHTTPServer &>/dev/null &

script:
- export component=elements-sdk1
- export feature_branch=master
- chmod 777 ./src/main/shell_scripts/components.sh
- ./src/main/shell_scripts/components.sh
- mvn -Dtest_suite_xml=elements_sdk.xml test

notifications:
  email:
    recipients:
    #- eajazali.mahaboobbasha@pearson.com
    - payal.dhadge@pearson.com
    on_success: always
    on_failure: always

  hipchat: pQrkiv99DE4e4K1I1KLrR8HZtoE8i3ZGg2bHYLrp@2846476
