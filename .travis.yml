language: java
sudo: required

jdk:
  - oraclejdk8

env:
  global:
  - CXX=g++-4.8
  - export UX_TEST_PLATFORM_ROOT_DIR=~/build/Pearson-Higher-Ed/ux-test-platform

addons:
  apt:
#      sources:
#        - ubuntu-toolchain-r-test
      packages:
        - g++-4.8
  browserstack:
          username: "payalpda1"
          access_key:
              secure: vs5iCAojczLvz0rsVe0ZHZd1JnuxN6E2cLBVaCPwTfq+GOgn+t/VNgaLQ6Hg4Jl59SzhkP3h4LbAOsr3Ufqq7u4f7gawdeuUQ6faNj53mWQpNVFQnKa2Q0iHMrF2E2LGJKpKoVhYuvnD7d44m76tMd5Ev2NLS1+KgqTCz4N2uoHUV69JUCvtKnda5H7mfhcCw3+s5qnw2+6+iugeg1WlH3+kL7q/GxiBgP8ahGyQ7e+K2Gfz3QrNtdargYGqaFMdGeb/be2sQ1DQy7oUJ1vd02OBu5mySsJubquV2np+fXc5WgpataWF8suSoXGzTOesS3RZT0mklwi707gU0cO0jOFFdiqWj0BS/kzD3Q/DFy2wBvjBcIxzNpAn87awNiJjVFhZk7WYhYs9ofMsINoVpcmIPpHd/RdOQUETXtOkhw+MExQpOJdcEddUCpXFrW651c1XqXRn+VuI+5YkjFGpICESGXhrHSAXGsXoIGNpXgTiPF8JH2FDBcrMddaezMyyYXpCyoTnXJeCuPDGoptaecVNygDgrTp4gnnDHlbojXLbTeGVaivJCQ+OBGafttKOasFxIBXlga7Dty/XpMK1ujJnWPVc3EoTzvo0yzomlxBCivFdkben9tWaTbPryms4kBA+YUhfjf0QZ6A58c5X5hpiDWm32Q1aOvIkIw2wDs0=

install:
- mvn clean install -DskipTests=true -q -Dmaven.javadoc.skip=true -B -V

before_script:
- nvm install 6.0
- nvm use 6.0
- python -m SimpleHTTPServer &>/dev/null &

script:
- export component=elements-sdk1
- export feature_branch=master
- chmod 777 ./src/main/shell_scripts/components.sh
- ./src/main/shell_scripts/components.sh
- mvn -Dtest_suite_xml=functional.xml test

notifications:
  email:
    recipients:
    #- eajazali.mahaboobbasha@pearson.com
    - payal.dhadge@pearson.com
    on_success: always
    on_failure: always

  hipchat: pQrkiv99DE4e4K1I1KLrR8HZtoE8i3ZGg2bHYLrp@2846476
