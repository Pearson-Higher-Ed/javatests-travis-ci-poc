language: java
sudo: required

jdk:
  - oraclejdk8

env:
  global:
  - CXX=g++-4.8
  - export UX_TEST_PLATFORM_ROOT_DIR=~/build/Pearson-Higher-Ed/ux-test-platform
  - export BROWSERSTACK_USERNAME=hello680

addons:
  apt:
      sources:
        - ubuntu-toolchain-r-test
      packages:
        - g++-4.8
  browserstack:
          username: $BROWSERSTACK_USERNAME
          access_key:
              secure: nEooq1CCz7KDu1qkEemnAmO0IG2hIApOcPizA0ANyNgN/2vXHEco1qiiUE6M0uXlq6zFuWsC96dL/MgaykHV4EXhZRgFL2xc/6I7TbRLHwTau9nIg+xkYLQUQhpfmFm5SJ3WYCgHNlhoznyZ/V4vGEj8gZ1x64HYMxqRIDnNVz6cvQDj9UCuFohe4/V0A4PZ2thtvJPv65a3DMna69wGAMiQRVz0jNkajBuNFlRC21HVn9kpp9MSV1gblMfcuyykQvpF5oQBLDzeXPB59/VDrZ3Eim3h0daGAF00SBk2WbCa8zctFklBIywvrmB19cPsKqGTQPp6TJTCZby1EvQHt6/0hemsIckmDpa8dtDDdTwnmioK6hwtpK42THP/ld82aLE/zSt92Fl9TLYIUkkdQ1iM4s2hC9bNU6JgeG3GBWXmYOfJRJ6g/2KWS/OnO/cQ0j0d9VdYZlT/VAHyio1IvG9kQPv9L26xsjtripvBhK6F9uxYsq+OAI9/WtVNbEU5Ih/cXplsW883AbcxqFShQ8ItMnfHvQY8xpHlrJb8O/x4vl0fvLd1fX9Pb1TlQCtCtZvlenJAulL/obBoIPnO8XU7JfTLryyPb41Q3c3TBFypYCT4IXkHzah0KYtgnizvEVMRLzoEm7xr+BQqsWsSWIQKx+XMtSKzAIz7OnKUfgg=

install:
- mvn clean install -DskipTests=true -q -Dmaven.javadoc.skip=true -B -V

before_script:
- nvm install 6.0
- nvm use 6.0
- python -m SimpleHTTPServer &>/dev/null &

script:
- export component=elements-sdk1
- export feature_branch=master
- chmod 777 ./src/main/shell_scripts/components.sh
- ./src/main/shell_scripts/components.sh
- mvn -Dtest_suite_xml=functional.xml test

notifications:
  email:
    recipients:
    - eajazali.mahaboobbasha@pearson.com
    - payal.dhadge@pearson.com
    on_success: always
    on_failure: always

  hipchat: pQrkiv99DE4e4K1I1KLrR8HZtoE8i3ZGg2bHYLrp@2846476