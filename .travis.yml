language: java
sudo: required

jdk:
  - oraclejdk8

env:
  global:
  - CXX=g++-4.8
  - export UX_TEST_PLATFORM_ROOT_DIR=~/build/Pearson-Higher-Ed/ux-test-platform
  - export BROWSERSTACK_USERNAME=eajaz6

addons:
  apt:
      sources:
        - ubuntu-toolchain-r-test
      packages:
        - g++-4.8
  browserstack:
          username: $BROWSERSTACK_USERNAME
          access_key:
              secure: khKb1dFmUIo5JWidbf2PTyHqsf5g+EgYlaPkkEA4gsPTRor0dv0yVLKBBahuoT2igFIrmBRNWMhEHdAgK0gfYmz7DtPOn7U9Pq2xyc56l+xMypmlGZwuvWNBOO0LW6gauKImVcFLJr5BCAvEqAM08Oi8O4z3l3auZvXI2nAT8xa3YUxObwJVuxpAWzKEV7uDK2/yb01uoeuJ0tHlncfyHyT/wbDiaAXtm7V2Zyjl3QPLazle3ffja3nZ2fnTyX9fISOIJhXtTy6SOK1UV3qkugAH5qpbdGAWhA4+4ioY9PM7kdVekVdwsfdT/UEe6Etp7D9SGguIh1JQRr4kBGpHdkUU9JUZbSrdlNUskrqLEin/Fk9hEWjl794yu6RE3ox4ofDavzvBlwre+bTKnx8p5jfVzA7Vke85IdaGtYm1Gc9q7+HthvJ+Y8DyP7Mvu2j6og3ouCrt2Lu+duuaEc+ArJz9iaHEl+jBGEUfonXut0BjgjpRWrdKAj7IZnpayZfbfaGtL4EjgfrGNiY/CsVoiY9o2aWrPdF7VU1LIAU9VZzPyZQ6pwf0apU+Tugc/tsuLyKBptrfuLT2/BHw9w0cmPGmq9zI1rgdP8tQ8HGDjJOV5QNsm2WX1CHjUmfBVK6Z539gE/ii0ZVPyYhBD1k3ee2YQw0m37uoMsWLuIaig9Y=

install:
- mvn clean install -DskipTests=true -q -Dmaven.javadoc.skip=true -B -V

before_script:
- nvm install 6.0
- nvm use 6.0
- python -m SimpleHTTPServer &>/dev/null &

script:
- export component=elements-sdk1
- export feature_branch=master
- chmod 777 ./src/main/shell_scripts/components.sh
- ./src/main/shell_scripts/components.sh
- mvn -Dtest_suite_xml=functional.xml test

notifications:
  email:
    recipients:
    - eajazali.mahaboobbasha@pearson.com
    - payal.dhadge@pearson.com
    on_success: always
    on_failure: always

  hipchat: pQrkiv99DE4e4K1I1KLrR8HZtoE8i3ZGg2bHYLrp@2846476