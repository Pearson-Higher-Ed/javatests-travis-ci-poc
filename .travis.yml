language: java
sudo: required

jdk:
  - oraclejdk8

env:
  global:
  - CXX=g++-4.8
  - export UX_TEST_PLATFORM_ROOT_DIR=~/build/Pearson-Higher-Ed/ux-test-platform

addons:
  apt:
#      sources:
#        - ubuntu-toolchain-r-test
      packages:
        - g++-4.8
  browserstack:
          username: "eajaz4"
          access_key:
              secure: lzjwUaSuLbpS6sSUUaG7gTW0N8TNw7LVYKz3lZtf3V0Rg5Yv5xAt6BKfAWnugZDsYDvg++lNcMt2Mb9Fzu4Ej4FKKFwWorP/NghTkDiqHzOLCcfxgp3YY0s9CPUYrtPLVHUY6btlINdtxJX2udhfXhGeFCJM2OniMf52V/0XPlpo6jF5rO2oVcClLFHTsn6Aein7pd7fDlkwEyzsWkCwREGi/geSPK0eVmGnL8KadATTE4PEeG5DXYl+W9WY+LOChnI8dA2Rzsf0pdEkBm/79/Ohl5TWtJiXSXYaFQrFZm1jkgEWaQhBADF6qm9GB7U7+fXwcgXZJZ6ILvenpMlWHAXE8kgN1bnoxbHnE5UwPy3IUm1o98ejyU4/SbhQYzf6OfwXJbSsp9halNwrq6j57qLMg77nLCeWNr62E7bkGWjm6W3O1SFsIMaNV4S2doWw9mXNo8hED7ZMH+UK0YTt9YuU9PZKx3+fbiTMJF2bOm+b5Ae3dbzr5uXbgrJn2eV8dT6+GmfmS3dO4fSZ3804m6I2IMNo2xulMN07a7V00aoOiszF0PLgz4SYjhvSacmCE+iM/199A08WlRgC5vGRe0FHLfYnNay3Wi/HWcn8pixzomQ8NGRoZpdyN+N4b76ZhHlS3MbLIQK/NPDe+AKCRPyxxzQmnI7rXfsHWBPB3Ec=

install:
- mvn clean install -DskipTests=true -q -Dmaven.javadoc.skip=true -B -V

before_script:
- nvm install 6.0
- nvm use 6.0
- python -m SimpleHTTPServer &>/dev/null &

script:
- export component=elements-sdk1
- export feature_branch=master
- chmod 777 ./src/main/shell_scripts/components.sh
- ./src/main/shell_scripts/components.sh
- mvn -Dtest_suite_xml=elements_sdk.xml test

notifications:
  email:
    recipients:
    #- eajazali.mahaboobbasha@pearson.com
    - payal.dhadge@pearson.com
    on_success: always
    on_failure: always

  hipchat: pQrkiv99DE4e4K1I1KLrR8HZtoE8i3ZGg2bHYLrp@2846476
